<!doctype html>
<html lang="vi">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Ch·ªß ƒë·ªÅ 7: Logging & Monitoring (Actuator)</title>
    <!-- Tailwind CSS via CDN for simplicity and reliability -->
    <script src="https://cdn.tailwindcss.com?plugins=typography"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                    },
                },
            },
        }
    </script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/atom-one-dark.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
    <script>hljs.highlightAll();</script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        /* Custom Scrollbar for Sidebar */
        .scrollbar-hide::-webkit-scrollbar {
            display: none;
        }
        .scrollbar-hide {
            -ms-overflow-style: none;
            scrollbar-width: none;
        }
        html {
            scroll-behavior: smooth;
        }
    </style>
    <script>
      function toggleSidebar() {
        const sidebar = document.getElementById("sidebar");
        sidebar.classList.toggle("-translate-x-full");
      }
    </script>
  </head>
  <body class="bg-slate-50 text-slate-900 antialiased flex flex-col min-h-screen">
    <!-- Header -->
    <header class="bg-white border-b border-gray-200 sticky top-0 z-30">
      <div
        class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 h-16 flex items-center justify-between"
      >
        <div class="flex items-center">
          <button
            onclick="toggleSidebar()"
            class="lg:hidden p-2 rounded-md text-gray-600 hover:bg-gray-100"
          >
            <svg
              class="h-6 w-6"
              fill="none"
              viewBox="0 0 24 24"
              stroke="currentColor"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M4 6h16M4 12h16M4 18h16"
              />
            </svg>
          </button>
          <a
            href="index.html"
            class="ml-3 lg:ml-0 text-xl font-bold text-gray-900 tracking-tight"
          >
            <span class="text-indigo-600">Spring Boot</span> for Frontend Devs
          </a>
        </div>
        <!-- Optional Top Links -->
        <div class="hidden md:flex space-x-4">
          <a
            href="https://github.com/chu-duong-courses"
            target="_blank"
            class="text-gray-500 hover:text-gray-900 transition font-medium"
            >GitHub</a
          >
        </div>
      </div>
    </header>

    <div class="flex-1 max-w-7xl w-full mx-auto flex items-start">
      <!-- Sidebar Navigation -->
      <!-- Sidebar Navigation -->
      <aside
        id="sidebar"
        class="fixed inset-0 z-50 bg-white transform -translate-x-full transition-transform duration-300 ease-in-out lg:translate-x-0 lg:static lg:z-0 lg:w-64 lg:h-[calc(100vh-4rem)] lg:bg-transparent lg:border-r lg:border-gray-200 lg:sticky lg:top-16 overflow-y-auto"
      >
        <div class="p-4 flex justify-between items-center lg:hidden border-b border-gray-100 mb-2">
            <span class="font-bold text-gray-900">Menu</span>
            <button onclick="toggleSidebar()" class="p-2 -mr-2 text-gray-500 hover:text-gray-700">
                <svg class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
                </svg>
            </button>
        </div>
        <nav class="p-4 space-y-1">
          <div class="mb-4">
            <p
              class="px-2 text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2"
            >
              Ch∆∞∆°ng tr√¨nh h·ªçc
            </p>
            <a href="index.html" class="block px-2 py-2 text-sm font-medium text-gray-700 rounded-md hover:bg-gray-100 group flex items-center">
            Spring Boot for Frontend Devs
        </a>
<a href="topic01.html" class="block px-2 py-2 text-sm font-medium text-gray-700 rounded-md hover:bg-gray-100 group flex items-center">
            Ch·ªß ƒë·ªÅ 1: Request-Response Cycle & The Middleware Chain
        </a>
<a href="topic02.html" class="block px-2 py-2 text-sm font-medium text-gray-700 rounded-md hover:bg-gray-100 group flex items-center">
            Ch·ªß ƒë·ªÅ 2: IoC Container & Dependency Injection (DI)
        </a>
<a href="topic03.html" class="block px-2 py-2 text-sm font-medium text-gray-700 rounded-md hover:bg-gray-100 group flex items-center">
            Ch·ªß ƒë·ªÅ 3: Persistence v·ªõi Spring Data JPA & Hibernate
        </a>
<a href="topic04.html" class="block px-2 py-2 text-sm font-medium text-gray-700 rounded-md hover:bg-gray-100 group flex items-center">
            Ch·ªß ƒë·ªÅ 4: Transaction Management - Qu·∫£n l√Ω giao d·ªãch
        </a>
<a href="topic05.html" class="block px-2 py-2 text-sm font-medium text-gray-700 rounded-md hover:bg-gray-100 group flex items-center">
            Ch·ªß ƒë·ªÅ 5: Validation & Global Exception Handling
        </a>
<a href="topic06.html" class="block px-2 py-2 text-sm font-medium text-gray-700 rounded-md hover:bg-gray-100 group flex items-center">
            Ch·ªß ƒë·ªÅ 6: Spring Security & JWT (Stateless Authentication)
        </a>
<a href="topic07.html" class="block px-2 py-2 text-sm font-medium text-indigo-600 bg-indigo-50 rounded-md hover:bg-gray-100 group flex items-center">
            Ch·ªß ƒë·ªÅ 7: Logging & Monitoring (Actuator)
        </a>
<a href="topic08.html" class="block px-2 py-2 text-sm font-medium text-gray-700 rounded-md hover:bg-gray-100 group flex items-center">
            üìò C·∫©m Nang To√†n T·∫≠p: JPA Relationships & Migration (2026 Edition)
        </a>
<a href="topic_black_holes.html" class="block px-2 py-2 text-sm font-medium text-gray-700 rounded-md hover:bg-gray-100 group flex items-center">
            üõ°Ô∏è Spring Boot 3 Survival Guide: 12 "Black Holes" & Deep Debugging
        </a>
          </div>
        </nav>
      </aside>

      <!-- Main Content -->
      <main class="flex-1 min-w-0 p-4 sm:p-6 lg:padding-8">
        <div class="max-w-4xl mx-auto">
          <article
            class="prose prose-slate prose-lg max-w-none prose-headings:font-bold prose-a:text-indigo-600 hover:prose-a:text-indigo-500 prose-img:rounded-xl shadow-none"
          >
            <p>Ch√†o b·∫°n! Ch√†o m·ª´ng b·∫°n ƒë·∫øn v·ªõi &quot;tr·∫°m ki·ªÉm so√°t&quot; cu·ªëi c√πng trong chu·ªói h√†nh tr√¨nh. ·ªû Frontend, khi c√≥ l·ªói, b·∫°n m·ªü <strong>Chrome DevTools</strong> ho·∫∑c xem <strong>Sentry</strong>. Nh∆∞ng ·ªü Backend, khi server ƒë√£ &quot;l√™n s√≥ng&quot; (Deploy), b·∫°n kh√¥ng th·ªÉ nh·∫£y v√†o m√°y ch·ªß ƒë·ªÉ xem n√≥ ƒëang ch·∫°y th·∫ø n√†o.</p>
<p>ƒê√≥ l√† l√Ω do <strong>Logging</strong> v√† <strong>Actuator</strong> ra ƒë·ªùi. N·∫øu Logging l√† &quot;ƒë√¥i m·∫Øt&quot; gi√∫p b·∫°n nh√¨n th·∫•y di·ªÖn bi·∫øn b√™n trong code, th√¨ Actuator l√† &quot;nh·ªãp tim&quot; gi√∫p b·∫°n bi·∫øt h·ªá th·ªëng c√≤n s·ªëng hay ƒë√£ &quot;ng·∫•t&quot;.</p>
<hr>
<h1>Ch·ªß ƒë·ªÅ 7: Logging &amp; Monitoring (Actuator)</h1>
<h3>1. L√Ω thuy·∫øt: Qu·∫£n l√Ω h·ªôp ƒëen</h3>
<h4><strong>Logging (Ghi nh·∫≠t k√Ω)</strong></h4>
<p>ƒê·ª´ng bao gi·ªù d√πng <code>System.out.println()</code> trong Spring Boot! T·∫°i sao? V√¨ n√≥ l√†m gi·∫£m hi·ªáu nƒÉng v√† kh√¥ng th·ªÉ qu·∫£n l√Ω. Ch√∫ng ta d√πng <strong>SLF4J</strong> (Giao di·ªán) k·∫øt h·ª£p v·ªõi <strong>Logback</strong> (B·ªô m√°y th·ª±c thi).</p>
<ul>
<li><strong>Log Levels:</strong> 1. <code>ERROR</code>: L·ªói nghi√™m tr·ªçng (c·∫ßn s·ª≠a ngay).</li>
</ul>
<ol start="2">
<li><code>WARN</code>: C·∫£nh b√°o (c√≥ th·ªÉ g√¢y l·ªói t∆∞∆°ng lai).</li>
<li><code>INFO</code>: Th√¥ng tin quan tr·ªçng (App b·∫Øt ƒë·∫ßu, User ƒëƒÉng nh·∫≠p).</li>
<li><code>DEBUG</code>: Th√¥ng tin chi ti·∫øt ƒë·ªÉ g·ª° l·ªói (ch·ªâ b·∫≠t ·ªü m√¥i tr∆∞·ªùng Dev).</li>
<li><code>TRACE</code>: Chi ti·∫øt nh·∫•t t·ª´ng b∆∞·ªõc ch·∫°y.</li>
</ol>
<h4><strong>Spring Boot Actuator</strong></h4>
<p>ƒê√¢y l√† m·ªôt th∆∞ vi·ªán cung c·∫•p c√°c <strong>Endpoints</strong> (ƒë∆∞·ªùng d·∫´n API) ƒë·ªÉ b·∫°n &quot;soi&quot; v√†o b√™n trong ·ª©ng d·ª•ng. B·∫°n c√≥ th·ªÉ xem l∆∞·ª£ng RAM ƒëang d√πng, s·ªë l∆∞·ª£ng Request ƒëang ch·ªù, ho·∫∑c th·∫≠m ch√≠ l√† danh s√°ch t·∫•t c·∫£ c√°c Beans ƒëang ch·∫°y.</p>
<hr>
<h3>2. V√≠ d·ª• Code &amp; C·∫•u h√¨nh</h3>
<h4><strong>A. Logging chuy√™n nghi·ªáp v·ªõi Lombok</strong></h4>
<p>Thay v√¨ khai b√°o Logger th·ªß c√¥ng, h√£y d√πng <code>@Slf4j</code>.</p>
<pre><code class="language-java">@Service
@Slf4j // T·ª± ƒë·ªông t·∫°o bi·∫øn &#39;log&#39;
public class PaymentService {

    public void processPayment(String orderId, double amount) {
        log.info(&quot;B·∫Øt ƒë·∫ßu x·ª≠ l√Ω thanh to√°n cho ƒë∆°n h√†ng: {}&quot;, orderId);
        
        try {
            // Logic thanh to√°n...
            if (amount &lt; 0) {
                log.warn(&quot;Ph√°t hi·ªán s·ªë ti·ªÅn √¢m cho ƒë∆°n h√†ng {}: {}&quot;, orderId, amount);
            }
        } catch (Exception e) {
            log.error(&quot;L·ªói nghi√™m tr·ªçng khi thanh to√°n ƒë∆°n h√†ng {}: {}&quot;, orderId, e.getMessage());
        }
    }
}
</code></pre>
<h4><strong>B. C·∫•u h√¨nh Actuator (<code>application.yml</code>)</strong></h4>
<p>M·∫∑c ƒë·ªãnh Actuator kh√≥a h·∫ßu h·∫øt c√°c c·ªïng v√¨ l√Ω do b·∫£o m·∫≠t. B·∫°n c·∫ßn m·ªü ch√∫ng ra.</p>
<pre><code class="language-yaml">management:
  endpoints:
    web:
      exposure:
        include: &quot;health,info,metrics,prometheus&quot; # M·ªü c√°c c·ªïng c·∫ßn thi·∫øt
  endpoint:
    health:
      show-details: always # Hi·ªán chi ti·∫øt tr·∫°ng th√°i DB, Disk, v.v.
</code></pre>
<h4><strong>C. Custom Health Indicator</strong></h4>
<p>B·∫°n c√≥ th·ªÉ t·ª± vi·∫øt code ƒë·ªÉ b√°o cho h·ªá th·ªëng bi·∫øt khi n√†o Service c·ªßa b·∫°n &quot;kh√¥ng ·ªïn&quot;.</p>
<pre><code class="language-java">@Component
public class ExternalApiHealthIndicator implements HealthIndicator {
    @Override
    public Health health() {
        boolean isExternalApiUp = checkApi(); // H√†m check API b√™n th·ª© 3
        if (isExternalApiUp) {
            return Health.up().withDetail(&quot;External API&quot;, &quot;Active&quot;).build();
        }
        return Health.down().withDetail(&quot;External API&quot;, &quot;Down&quot;).build();
    }
}
</code></pre>
<hr>
<h3>3. T√¨nh hu·ªëng th·ª±c t·∫ø (Real-world Scenarios)</h3>
<p><strong>T√¨nh hu·ªëng 1: Debug l·ªói &quot;ch·ªâ x·∫£y ra tr√™n Production&quot;</strong></p>
<ul>
<li><strong>V·∫•n ƒë·ªÅ:</strong> ·ªû m√°y local (Dev) th√¨ ch·∫°y ngon, nh∆∞ng l√™n server (Prod) th√¨ thi tho·∫£ng b·ªã l·ªói 500 m√† kh√¥ng r√µ nguy√™n nh√¢n.</li>
<li><strong>Gi·∫£i ph√°p:</strong> B·∫°n v√†o c·∫•u h√¨nh Log, n√¢ng level l√™n <code>DEBUG</code> cho ri√™ng package ƒë√≥. Sau ƒë√≥ xem log file ƒë·ªÉ th·∫•y gi√° tr·ªã bi·∫øn t·∫°i th·ªùi ƒëi·ªÉm l·ªói. V·ªõi <code>Logback</code>, b·∫°n c√≥ th·ªÉ c·∫•u h√¨nh ƒë·ªÉ log t·ª± ƒë·ªông n√©n v√† x√≥a sau 30 ng√†y ƒë·ªÉ kh√¥ng l√†m ƒë·∫ßy ·ªï c·ª©ng.</li>
</ul>
<p><strong>T√¨nh hu·ªëng 2: H·ªá th·ªëng t·ª± ƒë·ªông ph·ª•c h·ªìi (Auto-healing)</strong></p>
<ul>
<li><strong>V·∫•n ƒë·ªÅ:</strong> Server b·ªã treo do tr√†n b·ªô nh·ªõ (Memory Leak) ho·∫∑c Database b·ªã ng·∫Øt k·∫øt n·ªëi.</li>
<li><strong>Gi·∫£i ph√°p:</strong> C√°c c√¥ng c·ª• nh∆∞ <strong>Kubernetes</strong> ho·∫∑c <strong>AWS</strong> s·∫Ω li√™n t·ª•c g·ªçi v√†o endpoint <code>/actuator/health</code>. N·∫øu n√≥ nh·∫≠n v·ªÅ tr·∫°ng th√°i <code>DOWN</code>, n√≥ s·∫Ω t·ª± ƒë·ªông &quot;gi·∫øt&quot; con Server c≈© v√† kh·ªüi ƒë·ªông m·ªôt con m·ªõi ngay l·∫≠p t·ª©c. User s·∫Ω kh√¥ng h·ªÅ hay bi·∫øt.</li>
</ul>
<p><strong>T√¨nh hu·ªëng 3: Theo d√µi hi·ªáu nƒÉng (Metrics)</strong></p>
<ul>
<li><strong>V·∫•n ƒë·ªÅ:</strong> B·∫°n mu·ªën bi·∫øt API n√†o ƒëang b·ªã ch·∫≠m nh·∫•t ƒë·ªÉ t·ªëi ∆∞u.</li>
<li><strong>Gi·∫£i ph√°p:</strong> D√πng Actuator k·∫øt h·ª£p v·ªõi <strong>Prometheus</strong> v√† <strong>Grafana</strong>. B·∫°n s·∫Ω c√≥ m·ªôt Dashboard bi·ªÉu ƒë·ªì c·ª±c ƒë·∫πp (gi·ªëng nh∆∞ Google Analytics cho Backend) ƒë·ªÉ xem: &quot;√Ä, API <code>/api/orders</code> ƒëang m·∫•t t·∫≠n 2 gi√¢y ƒë·ªÉ ph·∫£n h·ªìi, c·∫ßn check l·∫°i Database Index!&quot;.</li>
</ul>
<hr>
<h3>B·∫£ng so s√°nh cho &quot;Thanh ni√™n Frontend&quot;</h3>
<table>
<thead>
<tr>
<th>ƒê·∫∑c ƒëi·ªÉm</th>
<th>Frontend (DevTools)</th>
<th>Backend (Logging/Actuator)</th>
</tr>
</thead>
<tbody><tr>
<td><strong>Ghi v·∫øt</strong></td>
<td><code>console.log()</code></td>
<td><code>log.info()</code>, <code>log.error()</code></td>
</tr>
<tr>
<td><strong>Ki·ªÉm tra tr·∫°ng th√°i</strong></td>
<td>Network Tab</td>
<td><code>/actuator/health</code></td>
</tr>
<tr>
<td><strong>Ph√¢n t√≠ch hi·ªáu nƒÉng</strong></td>
<td>Lighthouse, Performance Tab</td>
<td><code>/actuator/metrics</code>, Grafana</td>
</tr>
<tr>
<td><strong>L∆∞u tr·ªØ</strong></td>
<td>M·∫•t khi F5 trang</td>
<td>L∆∞u v√†o File ho·∫∑c Log Central (ELK Stack)</td>
</tr>
</tbody></table>
<hr>
<blockquote>
<p><strong>L·ªùi khuy√™n ch√¢n th√†nh:</strong> ƒê·ª´ng bao gi·ªù log c√°c th√¥ng tin nh·∫°y c·∫£m c·ªßa User nh∆∞ <strong>Password</strong>, <strong>S·ªë th·∫ª t√≠n d·ª•ng</strong>, hay <strong>Token</strong> v√†o file log. N·∫øu file log n√†y b·ªã l·ªô, ƒë√≥ s·∫Ω l√† m·ªôt th·∫£m h·ªça b·∫£o m·∫≠t!</p>
</blockquote>
<hr>
<p>N·∫øu ·ªü Frontend b·∫°n ch·ªâ c√≥ m·ªôt c√°i &quot;h·ªë&quot; duy nh·∫•t l√† <code>console.log</code>, th√¨ ·ªü Backend, Logging l√† m·ªôt <strong>h·ªá th·ªëng qu·∫£n tr·ªã d·ªØ li·ªáu</strong>.</p>
<p>·ªû Spring Boot 3, c√¥ng c·ª• m·∫∑c ƒë·ªãnh l√† <strong>Logback</strong> (ƒëi k√®m v·ªõi SLF4J). Ch√∫ng ta s·∫Ω ƒëi t·ª´ c·∫•u h√¨nh ƒë∆°n gi·∫£n ƒë·∫øn nh·ªØng thi·∫øt l·∫≠p &quot;chu·∫©n c√¥ng nghi·ªáp&quot; ƒë·ªÉ b·∫£o v·ªá ·ªï c·ª©ng server.</p>
<hr>
<h1>Chi ti·∫øt v·ªÅ Logging: T·ª´ Console ƒë·∫øn Chi·∫øn l∆∞·ª£c Rotation</h1>
<h3>1. C·∫•u h√¨nh c∆° b·∫£n (application.yml)</h3>
<p>V·ªõi nh·ªØng d·ª± √°n nh·ªè, b·∫°n c√≥ th·ªÉ c·∫•u h√¨nh nhanh ngay trong file <code>application.yml</code>.</p>
<pre><code class="language-yaml">logging:
  level:
    root: INFO
    com.example.demo: DEBUG # Log chi ti·∫øt cho code c·ªßa b·∫°n
    org.hibernate.SQL: DEBUG # Xem c√¢u l·ªánh SQL c·ªßa JPA
  pattern:
    # C·∫•u h√¨nh m√†u s·∫Øc v√† ƒë·ªãnh d·∫°ng hi·ªÉn th·ªã tr√™n Console
    console: &quot;%d{yyyy-MM-dd HH:mm:ss} %-5level [%thread] %logger{36} : %msg%n&quot;
  file:
    name: logs/app-backend.log # T·ª± ƒë·ªông t·∫°o folder logs v√† file
</code></pre>
<hr>
<h3>2. C·∫•u h√¨nh n√¢ng cao v·ªõi <code>logback-spring.xml</code></h3>
<p>Khi b·∫°n c·∫ßn <strong>Log Rotation</strong> (Xoay v√≤ng log - v√≠ d·ª•: m·ªói ng√†y m·ªôt file, ho·∫∑c file ƒë·∫ßy 10MB th√¨ c·∫Øt), b·∫°n <strong>ph·∫£i</strong> d√πng file <code>src/main/resources/logback-spring.xml</code>. Spring Boot s·∫Ω ∆∞u ti√™n file n√†y h∆°n m·ªçi c·∫•u h√¨nh trong <code>.yml</code>.</p>
<h4>V√≠ d·ª• file c·∫•u h√¨nh chu·∫©n:</h4>
<pre><code class="language-xml">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;configuration&gt;
    &lt;property name=&quot;LOG_PATH&quot; value=&quot;./logs&quot; /&gt;

    &lt;appender name=&quot;Console&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;
        &lt;encoder&gt;
            &lt;pattern&gt;%d{HH:mm:ss.SSS} [%thread] %highlight(%-5level) %cyan(%logger{36}) - %msg%n&lt;/pattern&gt;
        &lt;/encoder&gt;
    &lt;/appender&gt;

    &lt;appender name=&quot;RollingFile&quot; class=&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot;&gt;
        &lt;file&gt;${LOG_PATH}/application.log&lt;/file&gt;
        
        &lt;rollingPolicy class=&quot;ch.qos.logback.core.rolling.SizeAndTimeBasedRollingPolicy&quot;&gt;
            &lt;fileNamePattern&gt;${LOG_PATH}/archived/app.%d{yyyy-MM-dd}.%i.log.gz&lt;/fileNamePattern&gt;
            
            &lt;maxFileSize&gt;10MB&lt;/maxFileSize&gt;
            
            &lt;maxHistory&gt;30&lt;/maxHistory&gt;
            
            &lt;totalSizeCap&gt;1GB&lt;/totalSizeCap&gt;
        &lt;/rollingPolicy&gt;

        &lt;encoder&gt;
            &lt;pattern&gt;%d{yyyy-MM-dd HH:mm:ss} [%thread] %-5level %logger{36} - %msg%n&lt;/pattern&gt;
        &lt;/encoder&gt;
    &lt;/appender&gt;

    &lt;root level=&quot;INFO&quot;&gt;
        &lt;appender-ref ref=&quot;Console&quot; /&gt;
        &lt;appender-ref ref=&quot;RollingFile&quot; /&gt;
    &lt;/root&gt;
&lt;/configuration&gt;
</code></pre>
<hr>
<h3>3. T√¨nh hu·ªëng th·ª±c t·∫ø (Real-world Scenarios)</h3>
<p><strong>T√¨nh hu·ªëng 1: &quot;C·ª©u nguy&quot; ·ªï c·ª©ng Server</strong></p>
<ul>
<li><strong>V·∫•n ƒë·ªÅ:</strong> B·∫°n deploy app l√™n server, sau 1 th√°ng app s·∫≠p v√¨... ƒë·∫ßy ·ªï c·ª©ng. Nguy√™n nh√¢n l√† file log l√™n t·ªõi 50GB.</li>
<li><strong>Gi·∫£i ph√°p:</strong> S·ª≠ d·ª•ng <code>SizeAndTimeBasedRollingPolicy</code> nh∆∞ v√≠ d·ª• tr√™n. Vi·ªác gi·ªõi h·∫°n <code>maxFileSize</code> v√† <code>maxHistory</code> ƒë·∫£m b·∫£o h·ªá th·ªëng lu√¥n t·ª± d·ªçn d·∫πp (delete) c√°c b·∫£n tin c≈©, gi·ªØ cho ·ªï c·ª©ng lu√¥n &quot;th·ªü&quot; ƒë∆∞·ª£c.</li>
</ul>
<p><strong>T√¨nh hu·ªëng 2: Log t·∫≠p trung (Centralized Logging v·ªõi ELK Stack)</strong></p>
<ul>
<li><strong>V·∫•n ƒë·ªÅ:</strong> B·∫°n c√≥ 5 con server ch·∫°y c√πng l√∫c. Khi c√≥ l·ªói, b·∫°n kh√¥ng th·ªÉ SSH v√†o t·ª´ng con ƒë·ªÉ ƒë·ªçc file <code>.log</code> ƒë∆∞·ª£c.</li>
<li><strong>Gi·∫£i ph√°p:</strong> Thay v√¨ log d·∫°ng text thu·∫ßn t√∫y, b·∫°n c·∫•u h√¨nh Logback xu·∫•t ra ƒë·ªãnh d·∫°ng <strong>JSON</strong>. C√°c h·ªá th·ªëng nh∆∞ Logstash s·∫Ω &quot;h√∫t&quot; c√°c file JSON n√†y v·ªÅ m·ªôt kho chung (Elasticsearch) ƒë·ªÉ b·∫°n d√πng giao di·ªán (Kibana) t√¨m ki·∫øm l·ªói nh∆∞ d√πng Google.</li>
</ul>
<p><strong>T√¨nh hu·ªëng 3: Mute (T·∫Øt b·ªõt) Log c·ªßa th∆∞ vi·ªán b√™n th·ª© 3</strong></p>
<ul>
<li><strong>V·∫•n ƒë·ªÅ:</strong> Khi b·∫°n b·∫≠t mode <code>DEBUG</code>, c√°c th∆∞ vi·ªán nh∆∞ Spring Security hay Hibernate in ra h√†ng ngh√¨n d√≤ng log khi·∫øn b·∫°n kh√¥ng t√¨m th·∫•y log c·ªßa ch√≠nh m√¨nh.</li>
<li><strong>Gi·∫£i ph√°p:</strong> C·∫•u h√¨nh level ri√™ng bi·ªát cho t·ª´ng package.</li>
</ul>
<pre><code class="language-yaml">logging:
  level:
    org.springframework: WARN # Ch·ªâ hi·ªán l·ªói c·ªßa Spring
    com.yourproject: DEBUG    # Hi·ªán chi ti·∫øt log c·ªßa b·∫°n
</code></pre>
<hr>
<h3>C√°c m·∫πo &quot;b·ªè t√∫i&quot; cho b·∫°n:</h3>
<ul>
<li><strong>MDC (Mapped Diagnostic Context):</strong> ƒê√¢y l√† k·ªπ thu·∫≠t c·ª±c hay ƒë·ªÉ g√°n <code>userId</code> ho·∫∑c <code>traceId</code> v√†o m·ªçi d√≤ng log. Khi user b√°o l·ªói, b·∫°n ch·ªâ c·∫ßn search <code>traceId</code> ƒë√≥ l√† th·∫•y to√†n b·ªô l·ªãch s·ª≠ di chuy·ªÉn c·ªßa request ƒë√≥ qua c√°c Service.</li>
<li><strong>Async Logging:</strong> Vi·ªác ghi log ra file l√† thao t√°c I/O ch·∫≠m. Trong c√°c h·ªá th·ªëng ch·ªãu t·∫£i cao, ng∆∞·ªùi ta b·ªçc Appender trong l·ªõp <code>AsyncAppender</code> ƒë·ªÉ vi·ªác ghi log kh√¥ng l√†m ch·∫≠m logic ch√≠nh c·ªßa API.</li>
</ul>
<p><strong>T√≥m t·∫Øt cho Dev Frontend:</strong></p>
<ul>
<li><strong>Console:</strong> ƒê·ªÉ xem khi code (gi·ªëng <code>console.log</code>).</li>
<li><strong>File:</strong> ƒê·ªÉ l∆∞u v·∫øt khi ch·∫°y th·∫≠t.</li>
<li><strong>Rotation:</strong> ƒê·ªÉ Server kh√¥ng b·ªã &quot;ch·∫øt ch√πm&quot; v√¨ ƒë·∫ßy b·ªô nh·ªõ.</li>
</ul>

          </article>

          <!-- Navigation Footer (Next/Prev) -->
          <div class="mt-12 pt-8 border-t border-gray-200 flex justify-between">
            <a href="topic06.html" class="text-indigo-600 font-medium hover:text-indigo-800">‚Üê Ch·ªß ƒë·ªÅ 6: Spring Security & JWT (Stateless Authentication)</a><a href="topic08.html" class="text-indigo-600 font-medium hover:text-indigo-800">üìò C·∫©m Nang To√†n T·∫≠p: JPA Relationships & Migration (2026 Edition) ‚Üí</a>
          </div>
        </div>
      </main>
    </div>

    <!-- Overlay for mobile sidebar -->
    <div
      onclick="toggleSidebar()"
      id="overlay"
      class="fixed inset-0 bg-black/50 z-10 lg:hidden hidden"
      style="display: none"
    ></div>
    <script>
      // Simple overlay logic
      const sidebar = document.getElementById("sidebar");
      const overlay = document.getElementById("overlay");

      // Sync overlay with sidebar state check if needed, but for "simplest" just toggle visibility in CSS or JS.
      // Actually, let's keep it simple.
    </script>
  </body>
</html>
