<!doctype html>
<html lang="vi">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Ch·ªß ƒë·ªÅ 11: External API Call & Backend For Frontend (BFF)</title>
    <!-- Tailwind CSS via CDN for simplicity and reliability -->
    <script src="https://cdn.tailwindcss.com?plugins=typography"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                    },
                },
            },
        }
    </script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/atom-one-dark.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
    <script>hljs.highlightAll();</script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        /* Custom Scrollbar for Sidebar */
        .scrollbar-hide::-webkit-scrollbar {
            display: none;
        }
        .scrollbar-hide {
            -ms-overflow-style: none;
            scrollbar-width: none;
        }
        html {
            scroll-behavior: smooth;
        }
    </style>
    <script>
      function toggleSidebar() {
        const sidebar = document.getElementById("sidebar");
        sidebar.classList.toggle("-translate-x-full");
      }
    </script>
  </head>
  <body class="bg-slate-50 text-slate-900 antialiased flex flex-col min-h-screen">
    <!-- Header -->
    <header class="bg-white border-b border-gray-200 sticky top-0 z-30">
      <div
        class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 h-16 flex items-center justify-between"
      >
        <div class="flex items-center">
          <button
            onclick="toggleSidebar()"
            class="lg:hidden p-2 rounded-md text-gray-600 hover:bg-gray-100"
          >
            <svg
              class="h-6 w-6"
              fill="none"
              viewBox="0 0 24 24"
              stroke="currentColor"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M4 6h16M4 12h16M4 18h16"
              />
            </svg>
          </button>
          <a
            href="index.html"
            class="ml-3 lg:ml-0 text-xl font-bold text-gray-900 tracking-tight"
          >
            <span class="text-indigo-600">Spring Boot</span> for Frontend Devs
          </a>
        </div>
        <!-- Optional Top Links -->
        <div class="hidden md:flex space-x-4">
          <a
            href="https://github.com/simplesoft-duongdt3/chu-duong-courses"
            target="_blank"
            class="text-gray-500 hover:text-gray-900 transition font-medium"
            >GitHub</a
          >
        </div>
      </div>
    </header>

    <div class="flex-1 max-w-7xl w-full mx-auto flex items-start">
      <!-- Sidebar Navigation -->
      <!-- Sidebar Navigation -->
      <aside
        id="sidebar"
        class="fixed inset-0 z-50 bg-white transform -translate-x-full transition-transform duration-300 ease-in-out lg:translate-x-0 lg:static lg:z-0 lg:w-64 lg:h-[calc(100vh-4rem)] lg:bg-transparent lg:border-r lg:border-gray-200 lg:sticky lg:top-16 overflow-y-auto"
      >
        <div class="p-4 flex justify-between items-center lg:hidden border-b border-gray-100 mb-2">
            <span class="font-bold text-gray-900">Menu</span>
            <button onclick="toggleSidebar()" class="p-2 -mr-2 text-gray-500 hover:text-gray-700">
                <svg class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
                </svg>
            </button>
        </div>
        <nav class="p-4 space-y-1">
          <div class="mb-4">
            <p
              class="px-2 text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2"
            >
              Ch∆∞∆°ng tr√¨nh h·ªçc
            </p>
            <a href="index.html" class="block px-2 py-2 text-sm font-medium text-gray-700 rounded-md hover:bg-gray-100 group flex items-center">
            Spring Boot for Frontend Devs
        </a>
<a href="topic01.html" class="block px-2 py-2 text-sm font-medium text-gray-700 rounded-md hover:bg-gray-100 group flex items-center">
            Ch·ªß ƒë·ªÅ 1: Request-Response Cycle & The Middleware Chain
        </a>
<a href="topic02.html" class="block px-2 py-2 text-sm font-medium text-gray-700 rounded-md hover:bg-gray-100 group flex items-center">
            Ch·ªß ƒë·ªÅ 2: IoC Container & Dependency Injection (DI)
        </a>
<a href="topic03.html" class="block px-2 py-2 text-sm font-medium text-gray-700 rounded-md hover:bg-gray-100 group flex items-center">
            Ch·ªß ƒë·ªÅ 3: Persistence v·ªõi Spring Data JPA & Hibernate
        </a>
<a href="topic04.html" class="block px-2 py-2 text-sm font-medium text-gray-700 rounded-md hover:bg-gray-100 group flex items-center">
            Ch·ªß ƒë·ªÅ 4: Transaction Management - Qu·∫£n l√Ω giao d·ªãch
        </a>
<a href="topic05.html" class="block px-2 py-2 text-sm font-medium text-gray-700 rounded-md hover:bg-gray-100 group flex items-center">
            Ch·ªß ƒë·ªÅ 5: Validation & Global Exception Handling
        </a>
<a href="topic06.html" class="block px-2 py-2 text-sm font-medium text-gray-700 rounded-md hover:bg-gray-100 group flex items-center">
            Ch·ªß ƒë·ªÅ 6: Spring Security & JWT (Stateless Authentication)
        </a>
<a href="topic07.html" class="block px-2 py-2 text-sm font-medium text-gray-700 rounded-md hover:bg-gray-100 group flex items-center">
            Ch·ªß ƒë·ªÅ 7: Logging & Monitoring (Actuator)
        </a>
<a href="topic08.html" class="block px-2 py-2 text-sm font-medium text-gray-700 rounded-md hover:bg-gray-100 group flex items-center">
            Ch·ªß ƒë·ªÅ 8: üìò C·∫©m Nang To√†n T·∫≠p: JPA Relationships & Migration
        </a>
<a href="topic09.html" class="block px-2 py-2 text-sm font-medium text-gray-700 rounded-md hover:bg-gray-100 group flex items-center">
            Ch·ªß ƒë·ªÅ 9: Concurrency & Multi-threading
        </a>
<a href="topic10.html" class="block px-2 py-2 text-sm font-medium text-gray-700 rounded-md hover:bg-gray-100 group flex items-center">
            Ch·ªß ƒë·ªÅ 10: Audit Log - Camera gi√°m s√°t Database
        </a>
<a href="topic11.html" class="block px-2 py-2 text-sm font-medium text-indigo-600 bg-indigo-50 rounded-md hover:bg-gray-100 group flex items-center">
            Ch·ªß ƒë·ªÅ 11: External API Call & Backend For Frontend (BFF)
        </a>
<a href="topic_best_practices.html" class="block px-2 py-2 text-sm font-medium text-gray-700 rounded-md hover:bg-gray-100 group flex items-center">
            Spring Boot 3 Best Practices (The Pro Checklist)
        </a>
<a href="topic_black_holes.html" class="block px-2 py-2 text-sm font-medium text-gray-700 rounded-md hover:bg-gray-100 group flex items-center">
            üõ°Ô∏è Spring Boot 3 Survival Guide: 12 "Black Holes" & Deep Debugging
        </a>
          </div>
        </nav>
      </aside>

      <!-- Main Content -->
      <main class="flex-1 min-w-0 p-4 sm:p-6 lg:padding-8">
        <div class="max-w-4xl mx-auto">
          <article
            class="prose prose-slate prose-lg max-w-none prose-headings:font-bold prose-a:text-indigo-600 hover:prose-a:text-indigo-500 prose-img:rounded-xl shadow-none"
          >
            <h1>Ch·ªß ƒë·ªÅ 11: External API Call &amp; Backend For Frontend (BFF)</h1>
<p>Trong k·ª∑ nguy√™n Microservices, Backend kh√¥ng ch·ªâ l√† n∆°i l∆∞u tr·ªØ d·ªØ li·ªáu m√† c√≤n ƒë√≥ng vai tr√≤ l√† m·ªôt <strong>Consumer</strong> (kh√°ch h√†ng) ƒëi g·ªçi c√°c Service kh√°c. Vi·ªác qu·∫£n l√Ω c√°c k·∫øt n·ªëi n√†y ƒë√≤i h·ªèi s·ª± ch·∫∑t ch·∫Ω v·ªÅ hi·ªáu nƒÉng v√† b·∫£o m·∫≠t.</p>
<h2>1. Ki·∫øn tr√∫c BFF (Backend for Frontend)</h2>
<p>BFF l√† l·ªõp trung gian n·∫±m gi·ªØa Client (Web/Mobile) v√† c√°c Microservices l√µi.</p>
<ul>
<li><strong>M·ª•c ƒë√≠ch:</strong></li>
<li><strong>Aggregation:</strong> G·ªôp k·∫øt qu·∫£ t·ª´ nhi·ªÅu API th√†nh m·ªôt JSON duy nh·∫•t.</li>
<li><strong>Transformation:</strong> Chuy·ªÉn ƒë·ªïi ƒë·ªãnh d·∫°ng d·ªØ li·ªáu (v√≠ d·ª•: Mobile c·∫ßn √≠t field h∆°n Web).</li>
<li><strong>Security:</strong> Che gi·∫•u API Key, Secret Key c·ªßa h·ªá th·ªëng n·ªôi b·ªô.</li>
<li><strong>Latency:</strong> Gi·∫£m s·ªë l∆∞·ª£ng request t·ª´ Client l√™n Server qua m·∫°ng mobile.</li>
</ul>
<hr>
<h2>2. RestClient: &quot;V≈© kh√≠&quot; g·ªçi API trong Spring Boot 3</h2>
<p>T·ª´ b·∫£n 3.2, Spring gi·ªõi thi·ªáu <code>RestClient</code> ‚Äì m·ªôt b·ªô c√¥ng c·ª• g·ªçi API ƒë·ªìng b·ªô (Synchronous) nh∆∞ng mang phong c√°ch hi·ªán ƒë·∫°i (Fluent API).</p>
<h3>So s√°nh c√°c c√¥ng c·ª•</h3>
<table>
<thead>
<tr>
<th>C√¥ng c·ª•</th>
<th>Tr·∫°ng th√°i</th>
<th>ƒê·∫∑c ƒëi·ªÉm</th>
</tr>
</thead>
<tbody><tr>
<td><strong>RestTemplate</strong></td>
<td>Maintenance Mode</td>
<td>C≈©, c√∫ ph√°p c·ªìng k·ªÅnh, kh√≥ c·∫•u h√¨nh hi·ªán ƒë·∫°i.</td>
</tr>
<tr>
<td><strong>WebClient</strong></td>
<td>Active</td>
<td>M·∫°nh m·∫Ω, h·ªó tr·ª£ Reactive (Non-blocking). Ph·ª©c t·∫°p khi h·ªçc.</td>
</tr>
<tr>
<td><strong>RestClient</strong></td>
<td><strong>Recommended</strong></td>
<td>Hi·ªán ƒë·∫°i, d·ªÖ d√πng, thay th·∫ø ho√†n h·∫£o cho RestTemplate.</td>
</tr>
</tbody></table>
<hr>
<h2>3. Chi·∫øn l∆∞·ª£c t√°i s·ª≠ d·ª•ng Client (Reuse Like OkHttp)</h2>
<p>ƒê·ªÉ t·ªëi ∆∞u t√†i nguy√™n, ch√∫ng ta kh√¥ng kh·ªüi t·∫°o Client m·ªõi cho m·ªói request m√† chia l√†m 3 c·∫•p ƒë·ªô t√°i s·ª≠ d·ª•ng:</p>
<h3>C·∫•p ƒë·ªô 1: C·ªó m√°y th·ª±c thi (ClientHttpRequestFactory)</h3>
<p>T∆∞∆°ng ƒë∆∞∆°ng v·ªõi <code>OkHttpClient</code> instance, qu·∫£n l√Ω Connection Pool v·∫≠t l√Ω.</p>
<pre><code class="language-java">@Bean
public ClientHttpRequestFactory commonRequestFactory() {
    HttpComponentsClientHttpRequestFactory factory = new HttpComponentsClientHttpRequestFactory();
    factory.setConnectTimeout(Duration.ofSeconds(5));
    return factory;
}
</code></pre>
<h3>C·∫•p ƒë·ªô 2: C·∫•u h√¨nh chung (RestClient.Builder)</h3>
<p>T∆∞∆°ng ƒë∆∞∆°ng v·ªõi <code>OkHttpClient.Builder</code>, d√πng ƒë·ªÉ c√†i ƒë·∫∑t Header, Interceptor d√πng chung cho to√†n b·ªô d·ª± √°n.</p>
<pre><code class="language-java">@Bean
public RestClient.Builder commonRestClientBuilder(ClientHttpRequestFactory factory) {
    return RestClient.builder()
            .requestFactory(factory)
            .defaultHeader(&quot;Content-Type&quot;, &quot;application/json&quot;)
            .requestInterceptor(new LoggingInterceptor()); // T·ª± ƒë·ªông Log m·ªçi request
}
</code></pre>
<h3>C·∫•p ƒë·ªô 3: Chuy√™n bi·ªát h√≥a t·∫°i Service</h3>
<p>M·ªói Service l·∫•y Builder chung ƒë·ªÉ t·∫°o Client ri√™ng v·ªõi <code>baseUrl</code> t∆∞∆°ng ·ª©ng.</p>
<pre><code class="language-java">public UserService(RestClient.Builder builder) {
    this.restClient = builder.baseUrl(&quot;https://api.user.com&quot;).build();
}
</code></pre>
<hr>
<h2>4. C·∫•u h√¨nh &quot;S·ªëng c√≤n&quot; tr√™n Production</h2>
<p>ƒê·ª´ng bao gi·ªù s·ª≠ d·ª•ng c·∫•u h√¨nh m·∫∑c ƒë·ªãnh khi ƒëi Deploy.</p>
<h3>Connection Pooling &amp; Timeouts</h3>
<p>D√πng <strong>Apache HttpClient 5</strong> ƒë·ªÉ qu·∫£n l√Ω h·ªì ch·ª©a k·∫øt n·ªëi:</p>
<ul>
<li><strong>Max Total:</strong> 200 (T·ªïng k·∫øt n·ªëi ra ngo√†i).</li>
<li><strong>Max Per Route:</strong> 50 (K·∫øt n·ªëi t·ªëi ƒëa cho m·ªói Domain, tr√°nh vi·ªác 1 API s·∫≠p l√†m ngh·∫Ωn to√†n b·ªô h·ªá th·ªëng).</li>
<li><strong>Connect Timeout:</strong> 2-5s.</li>
<li><strong>Response Timeout (Read Timeout):</strong> 5-10s.</li>
</ul>
<h3>Interceptors (B·ªô l·ªçc)</h3>
<p>D√πng ƒë·ªÉ t·ª± ƒë·ªông g·∫Øn Token b·∫£o m·∫≠t (JWT) v√†o Header:</p>
<pre><code class="language-java">public class AuthInterceptor implements ClientHttpRequestInterceptor {
    @Override
    public ClientHttpResponse intercept(HttpRequest req, byte[] body, ClientHttpRequestExecution exec) {
        String token = SecurityContextHolder.getContext().getAuthentication().getCredentials().toString();
        req.getHeaders().setBearerAuth(token);
        return exec.execute(req, body);
    }
}
</code></pre>
<hr>
<h2>5. K·ªπ thu·∫≠t g·ªçi song song (Parallel Aggregation)</h2>
<p>Trong m√¥ h√¨nh BFF, h√£y d√πng <code>CompletableFuture</code> ƒë·ªÉ g·ªçi ƒë·ªìng th·ªùi nhi·ªÅu API, gi·∫£m th·ªùi gian ph·∫£n h·ªìi (Latency).</p>
<pre><code class="language-java">public CompletableFuture&lt;DataDTO&gt; fetchData() {
    var future1 = CompletableFuture.supplyAsync(() -&gt; clientA.get(), executor);
    var future2 = CompletableFuture.supplyAsync(() -&gt; clientB.get(), executor);
    
    return CompletableFuture.allOf(future1, future2)
            .thenApply(v -&gt; new DataDTO(future1.join(), future2.join()));
}
</code></pre>
<hr>
<h2>6. Checklist khi th·ª±c hi·ªán External Call</h2>
<ul>
<li><input disabled="" type="checkbox"> Lu√¥n c·∫•u h√¨nh <strong>Timeout</strong> (Connect &amp; Read).</li>
<li><input disabled="" type="checkbox"> Lu√¥n s·ª≠ d·ª•ng <strong>Connection Pool</strong>.</li>
<li><input disabled="" type="checkbox"> S·ª≠ d·ª•ng <strong>RestClient.Builder</strong> ƒë·ªÉ t√°i s·ª≠ d·ª•ng c·∫•u h√¨nh.</li>
<li><input disabled="" type="checkbox"> C√≥ c∆° ch·∫ø <strong>Error Handling</strong> t·∫≠p trung (<code>onStatus</code>).</li>
<li><input disabled="" type="checkbox"> (N√¢ng cao) T√≠ch h·ª£p <strong>Circuit Breaker</strong> ƒë·ªÉ &quot;ng·∫Øt c·∫ßu dao&quot; khi API ƒë·ªëi t√°c s·∫≠p.</li>
</ul>
<hr>
<h2>Hi·ªán th·ª±c h√≥a Checklist External Call</h2>
<h3>1 &amp; 2. C·∫•u h√¨nh Timeout v√† Connection Pool</h3>
<p>Ch√∫ng ta g·ªôp hai m·ª•c n√†y v√†o t·∫ßng <code>ClientHttpRequestFactory</code>. ƒê√¢y l√† &quot;tr√°i tim&quot; qu·∫£n l√Ω c√°c k·∫øt n·ªëi v·∫≠t l√Ω.</p>
<pre><code class="language-java">@Configuration
public class HttpClientConfig {

    @Bean
    public ClientHttpRequestFactory customRequestFactory() {
        // 1. C·∫•u h√¨nh Connection Pool (S·ª≠ d·ª•ng Apache HttpClient 5)
        PoolingHttpClientConnectionManager connectionManager = new PoolingHttpClientConnectionManager();
        connectionManager.setMaxTotal(200);           // T·ªïng s·ªë k·∫øt n·ªëi t·ªëi ƒëa trong Pool
        connectionManager.setDefaultMaxPerRoute(50);  // Gi·ªõi h·∫°n k·∫øt n·ªëi cho m·ªói Domain/Route

        // 2. C·∫•u h√¨nh Timeout (Connect &amp; Read)
        RequestConfig requestConfig = RequestConfig.custom()
                .setConnectTimeout(Timeout.ofSeconds(5))    // Th·ªùi gian ch·ªù thi·∫øt l·∫≠p k·∫øt n·ªëi
                .setResponseTimeout(Timeout.ofSeconds(10))  // Th·ªùi gian ch·ªù nh·∫≠n ph·∫£n h·ªìi (Read Timeout)
                .build();

        CloseableHttpClient httpClient = HttpClients.custom()
                .setConnectionManager(connectionManager)
                .setDefaultRequestConfig(requestConfig)
                .build();

        return new HttpComponentsClientHttpRequestFactory(httpClient);
    }
}
</code></pre>
<hr>
<h3>3 &amp; 4. T√°i s·ª≠ d·ª•ng Builder v√† Error Handling t·∫≠p trung</h3>
<p>T·∫°i ƒë√¢y, ch√∫ng ta t·∫°o m·ªôt &quot;khu√¥n m·∫´u&quot; (Template) chung cho m·ªçi Request g·ª≠i ƒëi.</p>
<pre><code class="language-java">@Configuration
public class RestClientTemplateConfig {

    @Bean
    public RestClient.Builder sharedRestClientBuilder(ClientHttpRequestFactory factory) {
        return RestClient.builder()
                .requestFactory(factory)
                .defaultHeader(HttpHeaders.CONTENT_TYPE, MediaType.APPLICATION_JSON_VALUE)
                // 4. Error Handling t·∫≠p trung: B·∫Øt l·ªói 4xx v√† 5xx cho T·∫§T C·∫¢ Client d√πng Builder n√†y
                .defaultStatusHandler(HttpStatusCode::isError, (request, response) -&gt; {
                    // Log l·ªói chi ti·∫øt t·∫°i ƒë√¢y
                    log.error(&quot;External Call Error: {} - Status: {}&quot;, 
                              request.getURI(), response.getStatusCode());
                    
                    // N√©m Custom Exception ƒë·ªÉ GlobalExceptionHandler x·ª≠ l√Ω tr·∫£ v·ªÅ cho Frontend
                    throw new AppException(ErrorCode.EXTERNAL_SERVICE_ERROR);
                });
    }
}
</code></pre>
<hr>
<h3>5. T√≠ch h·ª£p Circuit Breaker (Ng·∫Øt c·∫ßu dao)</h3>
<p>S·ª≠ d·ª•ng <strong>Resilience4j</strong>. Khi API ƒë·ªëi t√°c g·∫∑p s·ª± c·ªë li√™n t·ª•c, Circuit Breaker s·∫Ω &quot;m·ªü m·∫°ch&quot; ƒë·ªÉ ch·∫∑n c√°c request v√¥ √≠ch, gi√∫p h·ªá th·ªëng c·ªßa b·∫°n kh√¥ng b·ªã treo theo ƒë·ªëi t√°c.</p>
<h4><strong>B∆∞·ªõc A: Th√™m Dependency</strong></h4>
<pre><code class="language-xml">&lt;dependency&gt;
    &lt;groupId&gt;io.github.resilience4j&lt;/groupId&gt;
    &lt;artifactId&gt;resilience4j-spring-boot3&lt;/artifactId&gt;
&lt;/dependency&gt;
</code></pre>
<h4>**B∆∞·ªõc B: C·∫•u h√¨nh trong <code>application.yml**</code></h4>
<pre><code class="language-yaml">resilience4j:
  circuitbreaker:
    instances:
      externalService:
        failureRateThreshold: 50        # Ng·∫Øt m·∫°ch n·∫øu &gt; 50% request l·ªói
        minimumNumberOfCalls: 10        # Ch·ªâ t√≠nh to√°n sau khi ƒë√£ g·ªçi √≠t nh·∫•t 10 l·∫ßn
        waitDurationInOpenState: 30s    # Ch·ªù 30 gi√¢y tr∆∞·ªõc khi th·ª≠ k·∫øt n·ªëi l·∫°i
</code></pre>
<h4><strong>B∆∞·ªõc C: S·ª≠ d·ª•ng trong Service</strong></h4>
<pre><code class="language-java">@Service
@RequiredArgsConstructor
public class PaymentService {
    private final RestClient.Builder builder;

    // 5. Annotation @CircuitBreaker gi√∫p b·∫£o v·ªá ph∆∞∆°ng th·ª©c n√†y
    @CircuitBreaker(name = &quot;externalService&quot;, fallbackMethod = &quot;handlePaymentFallback&quot;)
    public String callPaymentGateway(PaymentDTO payment) {
        return builder.baseUrl(&quot;https://checkout.partner.com&quot;)
                .build()
                .post()
                .body(payment)
                .retrieve()
                .body(String.class);
    }

    // H√†m d·ª± ph√≤ng (Fallback) khi m·∫°ch b·ªã ng·∫Øt ho·∫∑c API ƒë·ªëi t√°c l·ªói
    public String handlePaymentFallback(PaymentDTO payment, Exception ex) {
        log.warn(&quot;Circuit Breaker activated! Tr·∫£ v·ªÅ th√¥ng b√°o b·∫£o tr√¨ cho kh√°ch h√†ng.&quot;);
        return &quot;C·ªïng thanh to√°n ƒëang b·∫£o tr√¨, vui l√≤ng th·ª≠ l·∫°i sau 30 gi√¢y.&quot;;
    }
}
</code></pre>
<hr>
<h3>T√≥m t·∫Øt lu·ªìng v·∫≠n h√†nh</h3>
<ol>
<li><strong>Request Factory:</strong> ƒê·∫£m b·∫£o kh√¥ng bao gi·ªù h·∫øt k·∫øt n·ªëi (Pool) v√† kh√¥ng ch·ªù ƒë·ª£i v√¥ t·∫≠n (Timeout).</li>
<li><strong>Builder:</strong> ƒê·∫£m b·∫£o m·ªçi API call ƒë·ªÅu c√≥ c√πng ti√™u chu·∫©n (Header, Auth) v√† lu√¥n ƒë∆∞·ª£c x·ª≠ l√Ω l·ªói th·ªëng nh·∫•t (<code>onStatus</code>).</li>
<li><strong>Circuit Breaker:</strong> ƒê√≥ng vai tr√≤ l√† &quot;l·ªõp gi√°p&quot; cu·ªëi c√πng. N·∫øu Service b√™n ngo√†i &quot;ch·∫øt th·∫≠t&quot;, app c·ªßa b·∫°n v·∫´n &quot;s·ªëng kh·ªèe&quot; nh·ªù h√†m Fallback.</li>
</ol>

          </article>

          <!-- Navigation Footer (Next/Prev) -->
          <div class="mt-12 pt-8 border-t border-gray-200 flex justify-between">
            <a href="topic10.html" class="text-indigo-600 font-medium hover:text-indigo-800">‚Üê Ch·ªß ƒë·ªÅ 10: Audit Log - Camera gi√°m s√°t Database</a><a href="topic_best_practices.html" class="text-indigo-600 font-medium hover:text-indigo-800">Spring Boot 3 Best Practices (The Pro Checklist) ‚Üí</a>
          </div>
        </div>
      </main>
    </div>

    <!-- Overlay for mobile sidebar -->
    <div
      onclick="toggleSidebar()"
      id="overlay"
      class="fixed inset-0 bg-black/50 z-10 lg:hidden hidden"
      style="display: none"
    ></div>
    <script>
      // Simple overlay logic
      const sidebar = document.getElementById("sidebar");
      const overlay = document.getElementById("overlay");

      // Sync overlay with sidebar state check if needed, but for "simplest" just toggle visibility in CSS or JS.
      // Actually, let's keep it simple.
    </script>
  </body>
</html>
